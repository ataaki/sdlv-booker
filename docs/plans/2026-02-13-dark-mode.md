# Dark Mode Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Add a dark/light theme toggle to the Foot Du Lundi dashboard, following system preference by default with manual override.

**Architecture:** Tailwind CSS v4 class-based `dark:` variants. A React context (`useTheme`) manages theme state, persists to localStorage, listens to `prefers-color-scheme`, and toggles `.dark` on `<html>`. Every component gets `dark:` variant classes.

**Tech Stack:** React 19, Tailwind CSS v4, @headlessui/react, TypeScript

---

### Task 1: Tailwind dark variant + body dark classes

**Files:**
- Modify: `frontend/src/index.css:1`
- Modify: `frontend/index.html:14`

**Step 1: Add custom dark variant to index.css**

At the top of `frontend/src/index.css`, after `@import "tailwindcss";`, add:

```css
@custom-variant dark (&:where(.dark, .dark *));
```

**Step 2: Add dark classes to body in index.html**

Change line 14 from:
```html
<body class="bg-slate-50 text-slate-900 antialiased min-h-dvh">
```
to:
```html
<body class="bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 antialiased min-h-dvh">
```

**Step 3: Commit**

```bash
git add frontend/src/index.css frontend/index.html
git commit -m "feat: configure Tailwind dark variant and body dark classes"
```

---

### Task 2: Create useTheme hook + ThemeProvider

**Files:**
- Create: `frontend/src/hooks/use-theme.tsx`
- Modify: `frontend/src/main.tsx`

**Step 1: Create the theme hook**

Create `frontend/src/hooks/use-theme.tsx`:

```tsx
import { createContext, useContext, useState, useEffect, useCallback, type ReactNode } from 'react'

type Theme = 'light' | 'dark' | 'system'
type ResolvedTheme = 'light' | 'dark'

interface ThemeContextValue {
  theme: Theme
  resolvedTheme: ResolvedTheme
  setTheme: (theme: Theme) => void
}

const ThemeContext = createContext<ThemeContextValue | null>(null)

function getSystemTheme(): ResolvedTheme {
  return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
}

function applyTheme(resolved: ResolvedTheme) {
  const root = document.documentElement
  if (resolved === 'dark') {
    root.classList.add('dark')
  } else {
    root.classList.remove('dark')
  }
  // Update PWA theme-color meta tag
  const meta = document.querySelector('meta[name="theme-color"]')
  if (meta) {
    meta.setAttribute('content', resolved === 'dark' ? '#0f172a' : '#f8fafc')
  }
}

export function ThemeProvider({ children }: { children: ReactNode }) {
  const [theme, setThemeState] = useState<Theme>(() => {
    const stored = localStorage.getItem('theme')
    return (stored === 'light' || stored === 'dark' || stored === 'system') ? stored : 'system'
  })

  const [resolvedTheme, setResolvedTheme] = useState<ResolvedTheme>(() => {
    if (theme === 'system') return getSystemTheme()
    return theme
  })

  const setTheme = useCallback((t: Theme) => {
    localStorage.setItem('theme', t)
    setThemeState(t)
  }, [])

  // Resolve theme and apply
  useEffect(() => {
    if (theme !== 'system') {
      setResolvedTheme(theme)
      applyTheme(theme)
      return
    }

    const resolved = getSystemTheme()
    setResolvedTheme(resolved)
    applyTheme(resolved)

    const mq = window.matchMedia('(prefers-color-scheme: dark)')
    function handler(e: MediaQueryListEvent) {
      const r = e.matches ? 'dark' : 'light'
      setResolvedTheme(r)
      applyTheme(r)
    }
    mq.addEventListener('change', handler)
    return () => mq.removeEventListener('change', handler)
  }, [theme])

  return (
    <ThemeContext.Provider value={{ theme, resolvedTheme, setTheme }}>
      {children}
    </ThemeContext.Provider>
  )
}

export function useTheme() {
  const ctx = useContext(ThemeContext)
  if (!ctx) throw new Error('useTheme must be used within ThemeProvider')
  return ctx
}
```

**Step 2: Wrap app with ThemeProvider in main.tsx**

In `frontend/src/main.tsx`, import `ThemeProvider` and wrap around `<App />`:

```tsx
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import { ToastProvider } from './hooks/use-toast'
import { ThemeProvider } from './hooks/use-theme'
import App from './App'
import './index.css'

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <ThemeProvider>
      <ToastProvider>
        <App />
      </ToastProvider>
    </ThemeProvider>
  </StrictMode>,
)
```

**Step 3: Commit**

```bash
git add frontend/src/hooks/use-theme.tsx frontend/src/main.tsx
git commit -m "feat: add ThemeProvider with system preference detection and localStorage persistence"
```

---

### Task 3: Add theme toggle button to Header

**Files:**
- Modify: `frontend/src/components/layout/Header.tsx`

**Step 1: Add toggle button and dark classes**

Replace `frontend/src/components/layout/Header.tsx` with:

```tsx
import { useTheme } from '../../hooks/use-theme'
import Button from '../ui/Button'

interface HeaderProps {
  onOpenSettings: () => void
}

const THEME_CYCLE = ['system', 'light', 'dark'] as const

export default function Header({ onOpenSettings }: HeaderProps) {
  const { theme, resolvedTheme, setTheme } = useTheme()

  function cycleTheme() {
    const idx = THEME_CYCLE.indexOf(theme)
    setTheme(THEME_CYCLE[(idx + 1) % THEME_CYCLE.length])
  }

  const icon = resolvedTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô'
  const label = theme === 'system' ? 'Auto' : theme === 'light' ? 'Clair' : 'Sombre'

  return (
    <header className="-mx-3 border-b border-slate-200 dark:border-slate-700 sm:-mx-5">
      <div className="max-w-5xl mx-auto px-3 py-4 flex items-center justify-between sm:px-5 sm:py-5">
        <h1 className="text-base font-bold text-slate-900 dark:text-slate-100 tracking-tight sm:text-lg">Foot Du Lundi</h1>
        <div className="flex items-center gap-2.5">
          <div className="flex items-center gap-1.5 text-xs text-slate-500 dark:text-slate-400">
            <span className="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse" />
            <span className="hidden sm:inline">Scheduler actif</span>
          </div>
          <button
            onClick={cycleTheme}
            className="inline-flex items-center gap-1.5 px-3 py-2.5 text-xs font-semibold rounded-md border border-slate-200 dark:border-slate-600 text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:border-slate-300 dark:hover:border-slate-500 hover:text-slate-700 dark:hover:text-slate-200 transition-all cursor-pointer sm:px-3 sm:py-1.5"
            title={`Theme: ${label}`}
          >
            <span>{icon}</span>
            <span className="hidden sm:inline">{label}</span>
          </button>
          <Button
            variant="icon"
            size="sm"
            onClick={onOpenSettings}
          >
            Parametres
          </Button>
        </div>
      </div>
    </header>
  )
}
```

**Step 2: Commit**

```bash
git add frontend/src/components/layout/Header.tsx
git commit -m "feat: add theme toggle button to header"
```

---

### Task 4: Dark mode for UI primitives

**Files:**
- Modify: `frontend/src/components/ui/Button.tsx`
- Modify: `frontend/src/components/ui/Badge.tsx`
- Modify: `frontend/src/components/ui/Toggle.tsx`
- Modify: `frontend/src/components/ui/Spinner.tsx`
- Modify: `frontend/src/components/ui/Toast.tsx`
- Modify: `frontend/src/components/ui/ConfirmDialog.tsx`

**Step 1: Button.tsx ‚Äî update variant classes**

Change `variantClasses` in `Button.tsx`:

```typescript
const variantClasses: Record<Variant, string> = {
  primary: 'bg-slate-900 text-white hover:bg-slate-800 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200',
  secondary: 'bg-slate-50 text-slate-600 border border-slate-200 hover:bg-slate-100 hover:border-slate-300 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-700 dark:hover:border-slate-500',
  danger: 'bg-red-500 text-white hover:bg-red-600',
  success: 'bg-emerald-500 text-white hover:bg-emerald-600',
  ghost: 'text-slate-500 hover:text-slate-700 hover:bg-slate-100 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:bg-slate-800',
  icon: 'text-slate-500 border border-slate-200 hover:bg-slate-50 hover:border-slate-300 hover:text-slate-700 dark:text-slate-400 dark:border-slate-600 dark:hover:bg-slate-800 dark:hover:border-slate-500 dark:hover:text-slate-200',
}
```

**Step 2: Badge.tsx ‚Äî update variant classes for dark backgrounds**

Change `variantClasses` in `Badge.tsx`:

```typescript
const variantClasses: Record<BadgeVariant, string> = {
  success: 'bg-emerald-50 text-emerald-700 dark:bg-emerald-500/15 dark:text-emerald-400',
  failed: 'bg-red-50 text-red-700 dark:bg-red-500/15 dark:text-red-400',
  payment_failed: 'bg-red-50 text-red-700 dark:bg-red-500/15 dark:text-red-400',
  no_slots: 'bg-amber-50 text-amber-700 dark:bg-amber-500/15 dark:text-amber-400',
  pending: 'bg-blue-50 text-blue-700 dark:bg-blue-500/15 dark:text-blue-400',
  skipped: 'bg-violet-50 text-violet-700 dark:bg-violet-500/15 dark:text-violet-400',
  cancelled: 'bg-stone-100 text-stone-600 dark:bg-stone-500/15 dark:text-stone-400',
  auto: 'bg-sky-50 text-sky-700 dark:bg-sky-500/15 dark:text-sky-400',
  manual: 'bg-fuchsia-50 text-purple-700 dark:bg-fuchsia-500/15 dark:text-purple-400',
  error: 'bg-red-50 text-red-700 dark:bg-red-500/15 dark:text-red-400',
}
```

**Step 3: Toggle.tsx ‚Äî update off-state bg**

In `Toggle.tsx`, change the class string to add dark variant for the off state:

```tsx
className={`relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200
  ${enabled ? 'bg-emerald-500' : 'bg-slate-300 dark:bg-slate-600'}`}
```

**Step 4: Spinner.tsx ‚Äî update border colors**

In `Spinner.tsx`, update the className:

```tsx
className={`animate-spin rounded-full border-slate-300 border-t-slate-900 dark:border-slate-600 dark:border-t-slate-100 ${sizeClasses[size]} ${className}`}
```

**Step 5: Toast.tsx ‚Äî update container and toast styles**

In `Toast.tsx`, update the toast div:

```tsx
className={`pointer-events-auto flex items-start gap-3 p-3.5 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-lg border-l-4 ${borderColors[t.type]} animate-[slideIn_0.3s_ease-out]`}
```

And the message text:
```tsx
<div className="text-xs text-slate-500 dark:text-slate-400 mt-0.5 break-words">{t.message}</div>
```

And the dismiss button:
```tsx
className="text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 text-lg leading-none shrink-0 cursor-pointer"
```

**Step 6: ConfirmDialog.tsx ‚Äî update panel and text**

In `ConfirmDialog.tsx`, update:
- Backdrop: `bg-slate-900/40` ‚Üí `bg-slate-900/40 dark:bg-black/60`
- DialogPanel: `bg-white` ‚Üí `bg-white dark:bg-slate-800`
- DialogTitle: `text-lg font-bold text-slate-900` ‚Üí `text-lg font-bold text-slate-900 dark:text-slate-100`
- Message: `text-sm text-slate-500` ‚Üí `text-sm text-slate-500 dark:text-slate-400`

**Step 7: Commit**

```bash
git add frontend/src/components/ui/
git commit -m "feat: add dark mode to all UI primitives"
```

---

### Task 5: Dark mode for layout components

**Files:**
- Modify: `frontend/src/components/layout/StatsBar.tsx`

**Step 1: Update StatsBar.tsx**

Update `StatCard` container:
- `bg-white` ‚Üí `bg-white dark:bg-slate-800`
- `border border-slate-200` ‚Üí `border border-slate-200 dark:border-slate-700`
- `hover:shadow-md` ‚Üí `hover:shadow-md`
- `hover:border-sky-300` ‚Üí `hover:border-sky-300 dark:hover:border-sky-600`

Update `StatCard` text:
- Value: `text-slate-900` ‚Üí `text-slate-900 dark:text-slate-100`
- Label: `text-slate-400` stays (works in both themes)
- "modifier" label: `text-slate-400` stays

**Step 2: Commit**

```bash
git add frontend/src/components/layout/StatsBar.tsx
git commit -m "feat: add dark mode to StatsBar"
```

---

### Task 6: Dark mode for App.tsx

**Files:**
- Modify: `frontend/src/App.tsx`

**Step 1: Update all dark classes in App.tsx**

Key changes (all `bg-slate-50` ‚Üí `bg-slate-50 dark:bg-slate-900`):

Loading states (3 instances):
- `bg-slate-50` ‚Üí `bg-slate-50 dark:bg-slate-900`
- `text-slate-400` ‚Üí `text-slate-400` (same)
- `text-red-500` stays, `text-slate-500` ‚Üí `text-slate-500 dark:text-slate-400`

Main dashboard wrapper:
- `min-h-dvh bg-slate-50` ‚Üí `min-h-dvh bg-slate-50 dark:bg-slate-900`

Info note:
- `bg-sky-50 border border-sky-200 ... text-sky-900` ‚Üí `bg-sky-50 dark:bg-sky-500/10 border border-sky-200 dark:border-sky-500/20 ... text-sky-900 dark:text-sky-300`

Section headers:
- `text-slate-900` ‚Üí `text-slate-900 dark:text-slate-100`
- `text-slate-400` stays

Empty states:
- `bg-white border border-dashed border-slate-300` ‚Üí `bg-white dark:bg-slate-800 border border-dashed border-slate-300 dark:border-slate-600`
- `text-slate-600` ‚Üí `text-slate-600 dark:text-slate-300`
- `text-slate-400` stays

Settings modal:
- Overlay: `bg-slate-900/40` ‚Üí `bg-slate-900/40 dark:bg-black/60`
- Panel: `bg-white` ‚Üí `bg-white dark:bg-slate-800`
- Title: `text-slate-900` ‚Üí `text-slate-900 dark:text-slate-100`
- Labels: `text-slate-500` stays
- Inputs: `border-slate-200` ‚Üí `border-slate-200 dark:border-slate-600`, add `dark:bg-slate-700 dark:text-slate-100`

**Step 2: Commit**

```bash
git add frontend/src/App.tsx
git commit -m "feat: add dark mode to App dashboard, loading states, and settings modal"
```

---

### Task 7: Dark mode for rules components

**Files:**
- Modify: `frontend/src/components/rules/RuleCard.tsx`
- Modify: `frontend/src/components/rules/RuleForm.tsx`
- Modify: `frontend/src/components/rules/PlaygroundPrefs.tsx`

**Step 1: RuleCard.tsx**

- Card container: `bg-white border border-slate-200` ‚Üí `bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700`
- Day badge: `bg-slate-900 text-white` ‚Üí `bg-slate-900 dark:bg-slate-100 text-white dark:text-slate-900`
- Time text: `text-slate-900` ‚Üí `text-slate-900 dark:text-slate-100`
- Info text: `text-slate-500` stays, `text-slate-300` ‚Üí `text-slate-300 dark:text-slate-600`
- Details: `text-slate-400` stays
- Actions border: `border-slate-100` ‚Üí `border-slate-100 dark:border-slate-700`
- Bottom bar: `bg-slate-50 border-t border-slate-100` ‚Üí `bg-slate-50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-700`

**Step 2: RuleForm.tsx**

- Backdrop: `bg-slate-900/40` ‚Üí `bg-slate-900/40 dark:bg-black/60`
- Panel: `bg-white` ‚Üí `bg-white dark:bg-slate-800`
- Labels: `text-slate-500` stays
- All inputs/selects: add `dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100`
- Select `bg-white`: add `dark:bg-slate-700`

**Step 3: PlaygroundPrefs.tsx**

- Item container: `bg-slate-50 border border-slate-200` ‚Üí `bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600`
- Drag handle: `text-slate-400` stays
- Hover border: `hover:border-slate-300` ‚Üí `hover:border-slate-300 dark:hover:border-slate-500`

**Step 4: Commit**

```bash
git add frontend/src/components/rules/
git commit -m "feat: add dark mode to rules components"
```

---

### Task 8: Dark mode for bookings components

**Files:**
- Modify: `frontend/src/components/bookings/BookingsList.tsx`
- Modify: `frontend/src/components/bookings/Pagination.tsx`

**Step 1: BookingsList.tsx**

- Main container: `bg-white border border-slate-200` ‚Üí `bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700`
- Tab border: `border-slate-100` ‚Üí `border-slate-100 dark:border-slate-700`
- Tab selected: `text-slate-900 border-slate-900` ‚Üí `text-slate-900 dark:text-slate-100 border-slate-900 dark:border-slate-100`
- Tab unselected: `text-slate-500` ‚Üí `text-slate-500 dark:text-slate-400`
- Page info bar: `bg-slate-50` ‚Üí `bg-slate-50 dark:bg-slate-800/50`, `text-slate-400` stays
- Dividers: `divide-slate-100` ‚Üí `divide-slate-100 dark:divide-slate-700`
- Card text: `text-slate-900` ‚Üí `text-slate-900 dark:text-slate-100`, `text-slate-700` ‚Üí `text-slate-700 dark:text-slate-300`, `text-slate-400` stays
- Table headers: `bg-slate-50 border-b border-slate-200` ‚Üí `bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700`
- Table rows: `border-slate-100` ‚Üí `border-slate-100 dark:border-slate-700`, `hover:bg-slate-50` ‚Üí `hover:bg-slate-50 dark:hover:bg-slate-700/50`
- Cell text: `text-slate-700` ‚Üí `text-slate-700 dark:text-slate-300`, `text-slate-500` ‚Üí `text-slate-500 dark:text-slate-400`
- Empty state: `text-slate-600` ‚Üí `text-slate-600 dark:text-slate-300`

**Step 2: Pagination.tsx**

- Container: `bg-slate-50` ‚Üí `bg-slate-50 dark:bg-slate-800/50`
- Active page: `bg-slate-900 text-white border-slate-900` ‚Üí `bg-slate-900 dark:bg-slate-100 text-white dark:text-slate-900 border-slate-900 dark:border-slate-100`
- Inactive page: `bg-white text-slate-700 border-slate-200 hover:border-slate-900 hover:text-slate-900` ‚Üí add `dark:bg-slate-800 dark:text-slate-300 dark:border-slate-600 dark:hover:border-slate-100 dark:hover:text-slate-100`
- Ellipsis: `text-slate-400` stays

**Step 3: Commit**

```bash
git add frontend/src/components/bookings/
git commit -m "feat: add dark mode to bookings components"
```

---

### Task 9: Dark mode for manual booking components

**Files:**
- Modify: `frontend/src/components/manual/SlotSearch.tsx`
- Modify: `frontend/src/components/manual/SlotResults.tsx`

**Step 1: SlotSearch.tsx**

- Container: `bg-white border border-slate-200` ‚Üí `bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700`
- Labels: `text-slate-500` stays
- `inputClass` variable: add `dark:bg-slate-700 dark:border-slate-600 dark:text-slate-100`

**Step 2: SlotResults.tsx**

- Mobile card container: `border border-slate-200` ‚Üí `border border-slate-200 dark:border-slate-700`
- Dividers: `divide-slate-100` ‚Üí `divide-slate-100 dark:divide-slate-700`
- Time text: `text-slate-900` ‚Üí `text-slate-900 dark:text-slate-100`
- Details: `text-slate-500` ‚Üí `text-slate-500 dark:text-slate-400`, `text-slate-300` ‚Üí `text-slate-300 dark:text-slate-600`
- Desktop table: same pattern as BookingsList
- Table headers: `bg-slate-50 border-b border-slate-200` ‚Üí `bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700`
- Table rows: `border-slate-100` ‚Üí `border-slate-100 dark:border-slate-700`, `hover:bg-slate-50` ‚Üí `hover:bg-slate-50 dark:hover:bg-slate-700/50`
- Cell text: `text-slate-700` ‚Üí `text-slate-700 dark:text-slate-300`, `text-slate-500` ‚Üí `text-slate-500 dark:text-slate-400`

**Step 3: Commit**

```bash
git add frontend/src/components/manual/
git commit -m "feat: add dark mode to slot search and results"
```

---

### Task 10: Dark mode for logs component

**Files:**
- Modify: `frontend/src/components/logs/LogsTable.tsx`

**Step 1: LogsTable.tsx**

- Empty state: `bg-white border border-dashed border-slate-300` ‚Üí `bg-white dark:bg-slate-800 border border-dashed border-slate-300 dark:border-slate-600`
- Main container: `bg-white border border-slate-200` ‚Üí `bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700`
- Selection bar: `bg-slate-50 border-b border-slate-200` ‚Üí `bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700`
- Mobile "select all" bar: same pattern
- Dividers: `divide-slate-100` ‚Üí `divide-slate-100 dark:divide-slate-700`
- Card text: `text-slate-700` ‚Üí `text-slate-700 dark:text-slate-300`
- Desktop table: same patterns as BookingsList (headers, rows, hover)

**Step 2: Commit**

```bash
git add frontend/src/components/logs/LogsTable.tsx
git commit -m "feat: add dark mode to logs table"
```

---

### Task 11: Dark mode for setup screen

**Files:**
- Modify: `frontend/src/components/setup/SetupScreen.tsx`

**Step 1: SetupScreen.tsx**

The setup screen already has a dark background (`bg-slate-900`), so minimal changes needed:
- Form card: `bg-white` ‚Üí `bg-white dark:bg-slate-800`
- Title: `text-slate-900` ‚Üí `text-slate-900 dark:text-slate-100`
- Subtitle: `text-slate-500` stays
- Labels: `text-slate-500` stays
- Inputs: `border-slate-200` ‚Üí `border-slate-200 dark:border-slate-600`, add `dark:bg-slate-700 dark:text-slate-100`
- Error: `bg-red-50 text-red-700` ‚Üí `bg-red-50 dark:bg-red-500/15 text-red-700 dark:text-red-400`

**Step 2: Commit**

```bash
git add frontend/src/components/setup/SetupScreen.tsx
git commit -m "feat: add dark mode to setup screen"
```

---

### Task 12: Custom CSS dark mode adjustments

**Files:**
- Modify: `frontend/src/index.css`

**Step 1: Update select dropdown arrow for dark mode**

In `index.css`, update the select styling to provide a lighter arrow in dark mode:

```css
.dark select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
}
```

**Step 2: Commit**

```bash
git add frontend/src/index.css
git commit -m "feat: dark mode select arrow and final CSS adjustments"
```

---

### Task 13: Visual verification and final commit

**Step 1: Build the frontend to verify no errors**

```bash
cd frontend && npm run build
```

**Step 2: If build passes, commit any remaining changes**

```bash
git add -A
git commit -m "feat: complete dark mode implementation"
```
